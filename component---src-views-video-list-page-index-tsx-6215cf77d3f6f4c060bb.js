"use strict";(self.webpackChunkchareads_com=self.webpackChunkchareads_com||[]).push([[439],{5953:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(7294);var i="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;const o="undefined"!=typeof window;var l=(e,t,n,a)=>{let l=null;const d=()=>{e((e=>o?(e.current||document.body).getBoundingClientRect().bottom-window.innerHeight:0)(a)),l=null};i((()=>{if(!o)return;const e=()=>{t?null===l&&(l=setTimeout(d,t)):d()};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),n||[])};const d="undefined"!=typeof window;var r=e=>{let{items:t,renderItem:n}=e;const i=(0,a.createRef)(),{0:o,1:r}=(0,a.useState)(24);return(0,a.useLayoutEffect)((()=>{r(24)}),[t.length]),l((e=>{e<400&&o<t.length&&r(o+8)}),300,[o,t.length],i),a.createElement(a.Fragment,null,t.slice(0,d?o:t.length).map(n),a.createElement("span",{ref:i}))}},2517:function(e,t,n){n.d(t,{Z:function(){return z}});var a=n(7294),i=n(2788),o=n(1883),l=n(356),d=n(9855),r=n(1101),s=n(1999),c=n(3662),m=n(196),u=n(2552),f=n(451);var g=e=>{let{className:t}=e;return a.createElement("svg",{viewBox:"0 0 11 14",className:t},a.createElement("path",{d:"M9.2,6.2l-7.5-5c-0.5-0.3-1.2,0-1.2,0.6v10.3c0,0.6,0.7,1,1.2,0.6l7.5-5C9.8,7.4,9.8,6.6,9.2,6.2z"}))},p=n(5059);const y={youtube:{playerVars:{rel:0,controls:1,autoplay:1}}},h=(0,i.default)(o.rU).withConfig({displayName:"VideoCard__StyledVideoCard",componentId:"sc-1jjz05g-0"})(["height:100%;display:flex;flex-direction:column;margin:0;overflow:hidden;background:",";border-radius:",";"],c.r$.BACKGROUND_DARK,c.n_.S),w=i.default.button.withConfig({displayName:"VideoCard__StyledPlayButton",componentId:"sc-1jjz05g-1"})(["position:absolute;z-index:1;padding:0.5em 0.6em;line-height:0;"]),E=(0,i.default)(g).withConfig({displayName:"VideoCard__StyledPlayIcon",componentId:"sc-1jjz05g-2"})(["width:1em;fill:",";filter:drop-shadow(0 0 2px rgba(0,0,0,0.1));"],c.r$.BACKGROUND_LIGHT),b=i.default.aside.withConfig({displayName:"VideoCard__StyledDuration",componentId:"sc-1jjz05g-3"})(["position:absolute;bottom:0.25em;right:0.25em;padding:0 0.375em;border-radius:2px;background:#00000088;color:#ffffffcc;font-size:",";"],(e=>{let{$big:t}=e;return t?c.nb.SIZE.XS:c.nb.SIZE.XXS})),C=(0,i.default)(m.C).withConfig({displayName:"VideoCard__StyledImg",componentId:"sc-1jjz05g-4"})(["width:100%;box-shadow:0 0.2em 0.5em rgba(0,0,0,0.1);"]),I=i.default.div.withConfig({displayName:"VideoCard__StyledDetails",componentId:"sc-1jjz05g-5"})(["padding:0.5em 0.5em 0.3em;flex:1;display:flex;flex-direction:column;justify-content:space-between;min-height:4.8em;"]),S=i.default.p.withConfig({displayName:"VideoCard__StyledTimestamp",componentId:"sc-1jjz05g-6"})(["font-size:",";margin:0;"],c.nb.SIZE.S),v=i.default.p.withConfig({displayName:"VideoCard__StyledMeta",componentId:"sc-1jjz05g-7"})(["display:flex;justify-content:space-between;flex-flow:wrap-reverse;font-size:",";margin:0;opacity:0.5;"],c.nb.SIZE.XS),_=i.default.time.withConfig({displayName:"VideoCard__StyledDatePublished",componentId:"sc-1jjz05g-8"})(["margin-right:0.5em;"]),j=(0,i.default)(s.Z).withConfig({displayName:"VideoCard__StyledH",componentId:"sc-1jjz05g-9"})(["margin:0;"]),k=i.default.div.withConfig({displayName:"VideoCard__StyledBookContentsWrapper",componentId:"sc-1jjz05g-10"})(["font-size:",";margin:","em 0;opacity:0.75;"],(e=>{let{isStars:t}=e;return t?c.nb.SIZE.XXS:c.nb.SIZE.XS}),(e=>{let{isStars:t}=e;return t?.4:.2}));var z=e=>{let{video:t,featured:n,timestamp:i,big:o,playsInline:s,hideOwnedByRating:c,className:g}=e;const{0:z,1:N}=(0,a.useState)(!1),Z=(t.timestamps||[]).filter((e=>e.book&&e.book.id)).length+(t.ownedBy?1:0);return a.createElement(h,{to:i?t.slug+"?at="+i:t.slug,style:{background:n&&t.image.childImageColors.lightVibrant,color:n&&t.image.childImageColors.darkMuted,"--primary-color":t.image.childImageColors.vibrant},className:g},a.createElement(f.Z,{style:{backgroundColor:t.image.childImageColors.muted}},z?a.createElement(l.Z,{url:"https://www.youtube.com/watch?v="+t.youtubeId+(i&&"&t="+(0,d.wq)(i)),config:y,width:"100%",height:"100%"}):a.createElement("div",null,s&&a.createElement(w,{onClick:e=>{e.preventDefault(),N(!0)}},a.createElement(E,null)),a.createElement(C,{image:t.image,background:m.Z.Muted}),a.createElement(b,{$big:o,"aria-label":"duration"},(0,d.i$)(t.duration)))),a.createElement(I,null,a.createElement("div",null,i&&a.createElement(S,null,"Featured at ",i," in"),a.createElement(j,{as:"h2",size:"S"},t.title),a.createElement(k,{isStars:!!t.ownedBy},t.ownedBy&&!c?t.ownedBy.rating7&&a.createElement(u.Z,{of7:t.ownedBy.rating7}):!i&&Z>1&&a.createElement(a.Fragment,null,"Featuring ",Z," book",Z>1&&"s"))),a.createElement(v,null,a.createElement(_,null,(0,d.pX)(t.datePublished)),a.createElement(p.g,null,t.viewCount>parseInt({}.GATSBY_YOUTUBE_VIEWS_MINIMUM_VISIBLE)&&a.createElement("span",null,(0,r.YO)(t.viewCount))))))}},4931:function(e,t,n){n.d(t,{A:function(){return a}});const a=e=>e.edges.map((e=>e.node))},2900:function(e,t,n){n.r(t);var a=n(7294),i=n(4931),o=n(9249),l=n(2042),d=n(7700),r=n(2517),s=n(5953);t.default=e=>{let{data:{videoData:t},location:n}=e;const c=(0,i.A)(t);return a.createElement(o.Z,{location:n,navOpenOnDesktop:!0,navTitle:"Bookish videos",title:"Videos"},a.createElement(l.Z,{as:"ol",full:!0},a.createElement(s.Z,{items:c,renderItem:e=>a.createElement(d.Z,{as:"li",key:e.id,span:1,spanFromM:e.featured?6:3,spanFromL:e.featured?4:2},a.createElement(r.Z,{video:e,featured:e.featured,big:e.featured}))})))}}}]);
//# sourceMappingURL=component---src-views-video-list-page-index-tsx-6215cf77d3f6f4c060bb.js.map