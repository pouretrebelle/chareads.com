{"version":3,"file":"component---src-views-video-page-index-tsx-d92ae81e2aeb57f77f7f.js","mappings":"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","sources":["webpack://chareads.com/./src/utils/urls/affiliates.ts","webpack://chareads.com/./src/components/BookAffiliates/index.tsx","webpack://chareads.com/./src/components/MarkdownWrapper/index.tsx","webpack://chareads.com/./src/components/RelatedBooks/index.tsx","webpack://chareads.com/./src/components/Reveal/RevealTrigger.tsx","webpack://chareads.com/./src/components/Reveal/index.tsx","webpack://chareads.com/./src/components/cards/BookCard/index.tsx","webpack://chareads.com/./src/utils/formatting/text.ts","webpack://chareads.com/./src/utils/hooks/useWindowSize.ts","webpack://chareads.com/./src/utils/urls/getQueryParameters.ts","webpack://chareads.com/./src/views/VideoPage/VideoPlayer.tsx","webpack://chareads.com/./src/views/VideoPage/VideoTimestamp.tsx","webpack://chareads.com/./src/views/VideoPage/VideoTimestampList.tsx","webpack://chareads.com/./src/views/VideoPage/VideoMeta.tsx","webpack://chareads.com/./src/views/VideoPage/VideoOwnedBook.tsx","webpack://chareads.com/./src/views/VideoPage/index.tsx","webpack://chareads.com/./node_modules/memoize-one/dist/memoize-one.esm.js","webpack://chareads.com/./node_modules/react-player/lib/Player.js","webpack://chareads.com/./node_modules/react-player/lib/Preview.js","webpack://chareads.com/./node_modules/react-player/lib/ReactPlayer.js","webpack://chareads.com/./node_modules/react-player/lib/props.js","webpack://chareads.com/./node_modules/react-player/youtube.js"],"sourcesContent":["import { makeIsbn10 } from 'utils/formatting/isbn'\n\nexport const AFFILIATES = {\n  GOODREADS: 'gr',\n  AMAZON: 'amzn',\n  BOOKSHOP_ORG: 'bs',\n} as const\n\nexport const getLink = (isbn: string, affiliateAbbr: string): string => {\n  if (affiliateAbbr === AFFILIATES.GOODREADS)\n    return `https://www.goodreads.com/search?query=${isbn}`\n\n  if (affiliateAbbr === AFFILIATES.AMAZON)\n    return `https://amazon.com/dp/${makeIsbn10(String(isbn))}?tag=chareads-20`\n\n  if (affiliateAbbr === AFFILIATES.BOOKSHOP_ORG)\n    return `https://uk.bookshop.org/a/15033/${isbn}`\n}\n\nexport const getShortLink = (isbn: string, affiliateAbbr: string): string =>\n  `https://cha.rs/${parseInt(isbn).toString(36).toUpperCase()}/${affiliateAbbr}`\n\nexport const getAffiliateLinks = (isbn: string): object => {\n  const long = {}\n  const short = {}\n\n  Object.values(AFFILIATES).forEach((affiliate: string) => {\n    long[affiliate] = getLink(isbn, affiliate)\n    short[affiliate] = getShortLink(isbn, affiliate)\n  })\n\n  return {\n    long,\n    short,\n  }\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Book } from 'types/book'\nimport { AFFILIATES } from 'utils/urls/affiliates'\nimport { FONT } from 'styles/tokens'\nimport { screenMin } from 'styles/responsive'\nimport ArrowIcon from 'components/icons/ArrowIcon'\n\nconst AFFILIATE_ACTIONS = {\n  [AFFILIATES.GOODREADS]: 'See on Goodreads',\n  [AFFILIATES.AMAZON]: 'Buy on Amazon',\n  [AFFILIATES.BOOKSHOP_ORG]: 'Buy on Bookshop.org',\n}\n\nconst StyledLi = styled.li`\n  font-size: ${FONT.SIZE.S};\n\n  ${screenMin.l`\n    margin-left: -1.5em;\n  `}\n`\n\nconst StyledArrowIcon = styled(ArrowIcon)`\n  margin: 0 0.75em 0 0;\n`\n\ntype Props = Pick<Book, 'links'>\n\nconst BookAffiliates: React.FC<Props> = ({ links }) => (\n  <ol>\n    {Object.entries(AFFILIATE_ACTIONS).map(([affiliateAbbr, label]) => (\n      <StyledLi key={affiliateAbbr}>\n        <a href={links.long[affiliateAbbr]}>\n          <StyledArrowIcon />\n          {label}\n        </a>\n      </StyledLi>\n    ))}\n  </ol>\n)\n\nexport default BookAffiliates\n","import styled from 'styled-components'\nimport { COLOR, FONT } from 'styles/tokens'\nimport { trim } from 'styles/helpers'\n\nconst MarkdownWrapper = styled.div`\n  ${trim}\n\n  hr {\n    height: 0.1em;\n    background: ${COLOR.BACKGROUND_DARK};\n    border: 0;\n    margin: 1em 0;\n  }\n\n  blockquote {\n    margin-left: 0;\n    border-left: 0.2em solid ${COLOR.BACKGROUND_DARK};\n    padding-left: 1em;\n  }\n\n  h2 {\n    margin-top: 1em;\n    font-size: ${FONT.SIZE.M};\n  }\n\n  h3,\n  h4 {\n    margin-top: 1em;\n    font-size: ${FONT.SIZE.S};\n  }\n\n  img {\n    max-width: 100%;\n  }\n\n  ul {\n    list-style: disc;\n  }\n\n  ol {\n    list-style: decimal;\n  }\n\n  p,\n  ul,\n  ol {\n    margin: 0.5em 0;\n  }\n\n  ul,\n  ol {\n    padding-left: 1em;\n    ${trim}\n  }\n\n  li {\n    margin: 0.25em 0;\n  }\n\n  a {\n    text-decoration: underline;\n    text-decoration-color: var(--secondary-color);\n  }\n`\n\nexport default MarkdownWrapper\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport Grid from 'components/Grid'\nimport GridItem from 'components/Grid/GridItem'\nimport H from 'components/H'\nimport { FONT } from 'styles/tokens'\nimport { screen, screenMin } from 'styles/responsive'\n\nimport { BookCardType } from 'types/book'\nimport BookCard from 'components/cards/BookCard'\n\nconst StyledWrapper = styled.div`\n  margin: 2em 0 1em;\n`\n\nconst StyledTitleGridItem = styled(GridItem)`\n  ${screenMin.m`\n    display: none;\n  `}\n`\n\nconst StyledGrid = styled(Grid)`\n  font-size: ${FONT.SIZE.S};\n\n  ${screen.l`\n    > *:nth-last-child(1) {\n      display: none;\n    }\n  `}\n`\n\ninterface Props {\n  books: BookCardType[]\n  featuredSlugs?: string[]\n  ownedSlug?: string\n}\n\nconst RelatedBooks: React.FC<Props> = ({ books, featuredSlugs, ownedSlug }) => {\n  if (!books || books.length === 0) return null\n\n  return (\n    <StyledWrapper>\n      <StyledGrid full>\n        <StyledTitleGridItem>\n          <H size=\"L\" as=\"h2\">\n            Related books\n          </H>\n        </StyledTitleGridItem>\n\n        {books.map((book: BookCardType): React.ReactNode => {\n          const featured = ownedSlug\n            ? ownedSlug === book.slug\n            : featuredSlugs && featuredSlugs.includes(book.slug)\n\n          return (\n            <GridItem key={book.id} span={1} spanFromM={3} spanFromL={2}>\n              <BookCard\n                book={book}\n                featured={featured}\n                hideDetails={ownedSlug === book.slug}\n              />\n            </GridItem>\n          )\n        })}\n      </StyledGrid>\n    </StyledWrapper>\n  )\n}\n\nexport default RelatedBooks\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { FONT } from 'styles/tokens'\nimport { screenMax } from 'styles/responsive'\nimport Link from 'components/links/Link'\n\nconst StyledSummaryTrigger = styled.button`\n  font-size: ${FONT.SIZE.S};\n  font-weight: ${FONT.WEIGHT.BOLD};\n\n  ${screenMax.s`\n    width: 100%;\n    text-align: left;\n  `}\n`\n\nconst StyledIcon = styled.i<Pick<Props, 'open'>>`\n  display: inline-block;\n  position: relative;\n  width: 1.25em;\n  height: 1.25em;\n  vertical-align: -0.3em;\n\n  &:before,\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 0.35em;\n    width: 0.7em;\n    height: 0.125em;\n    background: currentColor;\n    transform-origin: 50% 50%;\n    transform: translate(-50%, -50%);\n    transition: transform 0.2s linear;\n  }\n\n  ${({ open }): string =>\n    !open &&\n    `\n    &:before {\n      transform: translate(-50%, -50%) rotate(-90deg);\n    }\n  `}\n`\n\ninterface Props {\n  children: React.ReactNode\n  open: boolean\n  ariaId?: string\n  onClick: () => void\n  className?: string\n}\n\nconst RevealTrigger: React.FC<Props> = ({\n  children,\n  open,\n  ariaId,\n  onClick,\n  className,\n}) => (\n  <Link\n    onClick={onClick}\n    aria-expanded={open}\n    aria-controls={ariaId}\n    as={StyledSummaryTrigger}\n    className={className}\n  >\n    <StyledIcon open={open} />\n    {children}\n  </Link>\n)\n\nexport default RevealTrigger\n","import React, { useState, useEffect, createRef } from 'react'\nimport styled from 'styled-components'\n\nconst TRANSITION_DURATION_IN_MS = 200\n\ninterface ContentProps {\n  ref: React.RefObject<React.ReactNode>\n  isOpen: boolean\n  isTransitioning: boolean\n  contentHeight: number\n  className?: string\n  as?: string\n}\n\nconst StyledContent = styled.div<ContentProps>`\n  margin: 0;\n  will-change: opacity, max-height;\n  transition: opacity ${TRANSITION_DURATION_IN_MS}ms ease-in-out,\n    max-height ${TRANSITION_DURATION_IN_MS}ms ease-in-out;\n  overflow: hidden;\n\n  ${({ isOpen, isTransitioning }): string =>\n    !isOpen &&\n    !isTransitioning &&\n    `\n      position: absolute;\n      opacity: 0;\n      pointer-events: none;\n  `}\n\n  ${({ isTransitioning }): string =>\n    isTransitioning &&\n    `\n      opacity: 0;\n      max-height: 0;\n  `}\n\n  ${({ isOpen }): string =>\n    isOpen &&\n    `\n      opacity: 1;\n  `}\n`\n\ninterface Props {\n  children: React.ReactNode\n  open: boolean\n  ariaId?: string\n  className?: string\n  as?: string\n}\n\nconst Reveal: React.FC<Props> = ({ children, open, ariaId, className, as }) => {\n  const [isOpen, setIsOpen] = useState(open)\n  const [isTransitioning, setIsTransitioning] = useState(false)\n  const [contentHeight, setContentHeight] = useState(null)\n  const contentEl = createRef<HTMLDivElement>()\n\n  useEffect(() => {\n    if (open) {\n      const ref = contentEl.current as HTMLElement\n      setContentHeight(ref.clientHeight)\n      setIsTransitioning(true)\n    } else {\n      setIsOpen(false)\n      setTimeout(() => setIsTransitioning(false), TRANSITION_DURATION_IN_MS)\n    }\n  }, [open])\n\n  useEffect(() => {\n    if (isTransitioning && !isOpen) setTimeout(() => setIsOpen(true), 50)\n  }, [isTransitioning])\n\n  return (\n    <StyledContent\n      className={className}\n      ref={contentEl}\n      isOpen={isOpen}\n      isTransitioning={isTransitioning}\n      id={ariaId}\n      aria-hidden={!isOpen}\n      as={as}\n      style={{\n        maxHeight: isOpen && contentHeight,\n      }}\n    >\n      {children}\n    </StyledContent>\n  )\n}\n\nexport default Reveal\n","import React from 'react'\nimport styled, { SimpleInterpolation } from 'styled-components'\nimport { Link, navigate } from 'gatsby'\n\nimport { BookCardType } from 'types/book'\nimport Image, { ImageColor } from 'components/Image'\nimport StarRating from 'components/StarRating'\nimport ArrowIcon from 'components/icons/ArrowIcon'\nimport { FONT, COLOR, BORDER_RADIUS } from 'styles/tokens'\nimport { screenMin } from 'styles/responsive'\n\ninterface BookCardProps {\n  $big: boolean\n}\n\nconst StyledBookCard = styled(\n  ({ $big, ...props }) => <Link {...props} /> // eslint-disable-line\n)<BookCardProps>`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  margin: 0;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n  background: ${COLOR.BACKGROUND_DARK};\n  border-radius: ${BORDER_RADIUS.S};\n  outline: 0 !important;\n  --perspective: 800px;\n  --book-pages-color: #afbdbb;\n\n  ${({ $big }): SimpleInterpolation =>\n    $big &&\n    screenMin.m`\n    --perspective: 1600px;\n    `}\n  }\n`\n\nconst StyledImgWrapper = styled.figure`\n  max-width: 100%;\n  height: 150px;\n  margin: 0.5em;\n  background: var(--book-pages-color);\n  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.1);\n  transform: scale(var(--book-scale));\n\n  *::selection {\n    background: var(--primary-color);\n    color: ${COLOR.BACKGROUND_LIGHT};\n  }\n\n  ${screenMin.m`\n    &[data-big='true'] {\n      height: 350px;\n    }\n  `}\n`\n\nconst StyledImg = styled(Image)`\n  height: 100%;\n  vertical-align: bottom;\n  transition: transform 0.3s ease-out;\n  transform-origin: 0 50%;\n  box-shadow: 0 0 0.3em rgba(0, 0, 0, 0.05);\n  transform: perspective(var(--perspective)) rotateY(0);\n\n  img {\n    height: 100%;\n    width: auto;\n  }\n\n  a:hover &,\n  a:focus & {\n    transition: transform 0.15s ease-out;\n    transform: perspective(var(--perspective)) rotateY(-30deg);\n  }\n\n  a:active & {\n    transition: transform 0.5s ease-out;\n    transform: perspective(var(--perspective)) rotateY(-80deg);\n  }\n`\n\nconst StyledAccessibilityTitle = styled.figcaption`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  font-size: ${FONT.SIZE.S};\n  color: transparent;\n  padding: 0.5em;\n  display: flex;\n  place-items: center;\n`\n\nconst StyledMeta = styled.div`\n  margin: 0 0 1em;\n  font-size: ${FONT.SIZE.XS};\n  line-height: 1;\n  text-align: center;\n\n  & > * + * {\n    margin-top: 0.25em;\n  }\n`\n\nconst StyledVideoLink = styled.button`\n  display: inline-block;\n  font-weight: ${FONT.WEIGHT.BOLD};\n  padding: 0.25em 0.5em;\n  transition: transform 150ms linear;\n\n  &:hover {\n    transform: translate(-0.1em, 0);\n  }\n\n  &::selection {\n    background: transparent;\n  }\n`\n\ninterface Props {\n  book: BookCardType\n  featured?: boolean\n  big?: boolean\n  hideDetails?: boolean\n  className?: string\n}\n\nconst BookCard: React.FC<Props> = ({\n  book,\n  featured,\n  big,\n  hideDetails,\n  className,\n}) => {\n  return (\n    <StyledBookCard\n      to={book.slug}\n      $big={big}\n      style={\n        {\n          background: hideDetails\n            ? book.image.childImageColors.darkVibrant\n            : featured && book.image.childImageColors.lightMuted,\n          color: book.image.childImageColors.darkVibrant,\n          '--primary-color': book.image.childImageColors.vibrant,\n          '--secondary-color': book.image.childImageColors.darkVibrant,\n          '--book-pages-color': featured && book.image.childImageColors.muted,\n          '--book-scale': ((book.bookHeight || 198) / 220).toFixed(2),\n        } as object\n      }\n      className={className}\n      title={`${book.title} by ${book.author}`}\n    >\n      <StyledImgWrapper data-big={big}>\n        <StyledImg image={book.image} background={ImageColor.Muted} />\n        <StyledAccessibilityTitle>\n          <span>\n            {book.title} by {book.author}\n          </span>\n        </StyledAccessibilityTitle>\n      </StyledImgWrapper>\n      {!hideDetails && (book.rating7 || book.video) && (\n        <StyledMeta>\n          {book.video && (\n            <StyledVideoLink\n              onClick={(e): void => {\n                e.preventDefault()\n                navigate(book.video.slug)\n              }}\n            >\n              Video review\n              <ArrowIcon />\n            </StyledVideoLink>\n          )}\n          {book.rating7 && <StarRating of7={book.rating7} />}\n        </StyledMeta>\n      )}\n    </StyledBookCard>\n  )\n}\n\nexport default BookCard\n","import { Book } from 'types/book'\n\nexport const getBookDetailsFromString = (\n  text: string\n): Pick<Book, 'title' | 'author'> | undefined => {\n  const referenceMatch = text.match(/^(.+), (.+)$/)\n  return (\n    referenceMatch && {\n      title: referenceMatch[1],\n      author: referenceMatch[2],\n    }\n  )\n}\n\nexport const formatBookDetails = ({\n  title,\n  author,\n}: Pick<Book, 'title' | 'author'>): string => `${title} by ${author}`\n\nexport const stripHtml = (text: string): string =>\n  text\n    .replace(/<\\/[^>]+><[^>/]+>/gm, ' ')\n    .replace(/<\\/?[^>]+>/g, '')\n    .replace(/ +/gm, ' ')\n    .trim()\n\nexport const sortAlphabetically = (strings: string[]): string[] =>\n  strings.sort((a, b) => (a < b ? -1 : a > b ? 1 : 0))\n","import { useState, useEffect } from 'react'\n\ninterface WindowSize {\n  width: number\n  height: number\n}\n\nconst useWindowSize = (): WindowSize => {\n  if (typeof window === 'undefined') {\n    return { width: null, height: null }\n  }\n\n  const getSize = (): WindowSize => ({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  })\n\n  const [windowSize, setWindowSize] = useState(getSize)\n\n  useEffect(() => {\n    const handleResize = (): void => setWindowSize(getSize())\n\n    window.addEventListener('resize', handleResize)\n    return (): void => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  return windowSize\n}\n\nexport default useWindowSize\n","import qs from 'qs'\n\nconst getQueryParameters = (): { [key: string]: string | number } => {\n  if (!window.location.search) {\n    return {}\n  }\n\n  return qs.parse(window.location.search, { ignoreQueryPrefix: true })\n}\n\nexport default getQueryParameters\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport YouTubePlayer from 'react-player/youtube'\n\nimport { Video } from 'types/video'\nimport { unformatTimestamp } from 'utils/formatting/time'\nimport getQueryParameters from 'utils/urls/getQueryParameters'\nimport AspectRatioWrapper from 'components/AspectRatioWrapper'\n\nconst YouTubePlayerConfig = {\n  youtube: {\n    playerVars: {\n      rel: 0,\n      controls: 1,\n    },\n  },\n}\n\nconst StyledAspectRatioWrapper = styled(AspectRatioWrapper)`\n  @media only percy {\n    background: currentColor;\n\n    > * {\n      visibility: hidden;\n    }\n  }\n`\n\ntype VideoProps = Pick<Video, 'youtubeId'>\n\ninterface Props extends VideoProps {\n  isPlaying: boolean\n  setIsPlaying: React.Dispatch<React.SetStateAction<boolean>>\n  setPlayedSeconds: React.Dispatch<React.SetStateAction<number>>\n  videoComponent: React.MutableRefObject<undefined>\n  backgroundColor: string\n}\n\nconst VideoPlayer: React.FC<Props> = ({\n  youtubeId,\n  isPlaying,\n  setIsPlaying,\n  setPlayedSeconds,\n  videoComponent,\n  backgroundColor,\n}) => {\n  const [startAtSeconds, setStartAtSeconds] = useState(0)\n\n  useEffect((): void => {\n    const params = getQueryParameters()\n    if (params.at) {\n      const startAt = unformatTimestamp(params.at as string)\n      setStartAtSeconds(startAt)\n      setPlayedSeconds(startAt)\n    }\n  }, [])\n\n  return (\n    <StyledAspectRatioWrapper style={{ backgroundColor }}>\n      Hey\n      <YouTubePlayer\n        url={`https://www.youtube.com/watch?v=${youtubeId}${\n          startAtSeconds > 0 && `&t=${startAtSeconds}`\n        }`}\n        ref={videoComponent}\n        onPlay={(): void => setIsPlaying(true)}\n        onPause={(): void => setIsPlaying(false)}\n        onProgress={({ playedSeconds }): void =>\n          setPlayedSeconds(playedSeconds)\n        }\n        progressInterval={500}\n        playing={isPlaying}\n        config={YouTubePlayerConfig}\n        controls\n        width=\"100%\"\n        height=\"100%\"\n      />\n    </StyledAspectRatioWrapper>\n  )\n}\n\nexport default VideoPlayer\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Timestamp } from 'types/timestamp'\nimport { formatTimestamp } from 'utils/formatting/time'\nimport { COLOR, FONT } from 'styles/tokens'\nimport { trim } from 'styles/helpers'\nimport Link from 'components/links/Link'\nimport StarRating from 'components/StarRating'\nimport ArrowIcon from 'components/icons/ArrowIcon'\nimport Reveal from 'components/Reveal'\nimport BookAffiliates from 'components/BookAffiliates'\n\nconst StyledVideoTimestamp = styled.li<Pick<Props, 'active'>>`\n  padding: 0.375em 0.75em;\n  display: flex;\n  cursor: pointer;\n  font-size: ${FONT.SIZE.S};\n\n  ${({ active }): string => active && `background: ${COLOR.BACKGROUND_DARK};`}\n`\n\nconst StyledTime = styled.time`\n  min-width: 4ch;\n  margin-right: 1ch;\n  line-height: 1.25;\n`\n\nconst StyledDetails = styled.div`\n  flex: 1;\n\n  > * {\n    margin: 0;\n  }\n`\n\nconst StyledText = styled.p`\n  font-weight: ${FONT.WEIGHT.BOLD};\n  line-height: 1.25;\n`\n\nconst StyledBookLink = styled(Link)`\n  display: block;\n  width: max-content;\n  font-size: ${FONT.SIZE.S};\n`\n\nconst StyledStarRating = styled(StarRating)`\n  display: inline-block;\n  vertical-align: text-top;\n`\n\nconst StyledReveal = styled(Reveal)`\n  transition: max-height 200ms linear;\n  ${trim}\n`\n\ninterface Props extends Timestamp {\n  jumpToTimestamp: (t: number, startPlaying: boolean) => void\n  active: boolean\n}\n\nconst VideoTimestamp: React.FC<Props> = ({\n  t,\n  text,\n  link,\n  book,\n  active,\n  jumpToTimestamp,\n}) => (\n  <StyledVideoTimestamp\n    key={t}\n    onClick={(e): void => {\n      const element = e.target as HTMLElement\n      if (element.tagName !== 'a') jumpToTimestamp(t, true)\n    }}\n    active={active}\n  >\n    <StyledTime>{formatTimestamp(t)}</StyledTime>\n    <StyledDetails>\n      <StyledText>\n        {link ? (\n          <Link href={link} as=\"a\">\n            {text}\n            <ArrowIcon />\n          </Link>\n        ) : (\n          text\n        )}\n      </StyledText>\n      {book && (\n        <>\n          {book.slug && (\n            <StyledBookLink to={book.slug}>\n              <StyledStarRating of7={book.rating7} />\n              <ArrowIcon />\n            </StyledBookLink>\n          )}\n\n          <StyledReveal open={active}>\n            <BookAffiliates links={book.links} />\n          </StyledReveal>\n        </>\n      )}\n    </StyledDetails>\n  </StyledVideoTimestamp>\n)\n\nexport default VideoTimestamp\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Timestamp } from 'types/timestamp'\nimport { COLOR, BORDER_RADIUS } from 'styles/tokens'\nimport { screen } from 'styles/responsive'\nimport { toVW, getWidthOfColumns } from 'styles/layout'\n\nimport VideoTimestamp from './VideoTimestamp'\n\nconst StyledWrapper = styled.div`\n  position: relative;\n\n  &:before,\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    left: -0.5em;\n    right: 0.25em;\n    height: 0.5em;\n    z-index: 1;\n    pointer-events: none;\n  }\n\n  &:before {\n    top: 0;\n    background: linear-gradient(to bottom, ${COLOR.BACKGROUND}, transparent);\n  }\n\n  &:after {\n    bottom: 0;\n    background: linear-gradient(to top, ${COLOR.BACKGROUND}, transparent);\n  }\n`\n\nconst StyledVideoTimestampList = styled.ol`\n  margin: 0 0 0 -0.5em;\n  width: calc(0.5em + 100%);\n  overflow: auto;\n  max-height: 300px;\n  padding: 0.5em 0;\n\n  ${screen.l`\n    max-height: calc(1em + ${toVW((getWidthOfColumns.l(7) * 9) / 16)});\n  `}\n\n  ${screen.xl`\n    max-height: calc(1em + ${toVW((getWidthOfColumns.xl(8) * 9) / 16)});\n  `}\n\n  ::-webkit-scrollbar {\n    width: 0.25em;\n    border-left: 2px solid ${COLOR.BACKGROUND_DARK};\n    border-radius: 0 ${BORDER_RADIUS.S} ${BORDER_RADIUS.S} 0;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: rgba(0, 0, 0, 0.2);\n    border-width: 0.5em 0;\n    border-style: solid;\n    border-color: ${COLOR.BACKGROUND};\n  }\n`\n\ninterface Props {\n  timestamps: Timestamp[]\n  playedSeconds: number\n  setPlayedSeconds: React.Dispatch<React.SetStateAction<number>>\n  setIsPlaying: React.Dispatch<React.SetStateAction<boolean>>\n  videoComponent: React.MutableRefObject<undefined>\n}\n\nconst VideoTimestampList: React.FC<Props> = ({\n  timestamps,\n  playedSeconds,\n  setPlayedSeconds,\n  setIsPlaying,\n  videoComponent,\n}) => {\n  const jumpToTimestamp = (t: number, startPlaying: boolean): void => {\n    if (!videoComponent.current) return\n    const target = videoComponent.current as { seekTo: (t: number) => void }\n\n    target.seekTo(t)\n    setPlayedSeconds(t)\n    if (startPlaying) setIsPlaying(true)\n  }\n\n  let segment: number\n  timestamps.forEach(({ t }, i) => {\n    if (playedSeconds >= t) segment = i\n  })\n\n  return (\n    <StyledWrapper>\n      <StyledVideoTimestampList>\n        {timestamps.map(({ t, text, link, book }, i) => (\n          <VideoTimestamp\n            key={t}\n            t={t}\n            text={text}\n            link={link}\n            book={book}\n            jumpToTimestamp={jumpToTimestamp}\n            active={segment === i}\n          />\n        ))}\n      </StyledVideoTimestampList>\n    </StyledWrapper>\n  )\n}\n\nexport default VideoTimestampList\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\n\nimport { Video } from 'types/video'\nimport { formatDate } from 'utils/formatting/time'\nimport { formatNumberInThousands } from 'utils/formatting/numbers'\nimport useWindowSize from 'utils/hooks/useWindowSize'\nimport { FONT, BREAKPOINT } from 'styles/tokens'\nimport { trim } from 'styles/helpers'\nimport { screen, screenMin } from 'styles/responsive'\nimport Reveal from 'components/Reveal'\nimport RevealTrigger from 'components/Reveal/RevealTrigger'\nimport Link from 'components/links/Link'\nimport { HideOnPercy } from 'components/HideOnPercy'\n\nconst META_ARIA_ID = 'book-meta'\n\nconst StyledAside = styled.aside`\n  margin-bottom: 1em;\n`\n\nconst StyledRevealTrigger = styled(RevealTrigger)`\n  ${screenMin.m`\n    display: none;\n  `}\n`\n\nconst StyledReveal = styled.dl`\n  ${trim}\n\n  ${screen.s`\n    padding: 0.5em 0 0 1em;\n  `}\n`\n\nconst StyledDt = styled.dt`\n  font-size: ${FONT.SIZE.S};\n  font-weight: ${FONT.WEIGHT.BOLD};\n  margin: 0.5em 0 0;\n\n  ${screenMin.m`\n    margin: 1em 0 0;\n  `}\n`\n\nconst StyledDd = styled.dd`\n  font-size: ${FONT.SIZE.S};\n  margin: 0;\n`\n\ntype Props = Pick<\n  Video,\n  'datePublished' | 'viewCount' | 'commentCount' | 'youtubeId'\n>\n\nconst VideoMeta: React.FC<Props> = ({\n  datePublished,\n  viewCount,\n  commentCount,\n  youtubeId,\n}) => {\n  const { width: windowWidth } = useWindowSize()\n  const [isOpen, setIsOpen] = useState(false)\n\n  return (\n    <StyledAside>\n      <StyledRevealTrigger\n        onClick={(): void => setIsOpen(!isOpen)}\n        open={isOpen}\n        ariaId={META_ARIA_ID}\n      >\n        Video information\n      </StyledRevealTrigger>\n\n      <Reveal\n        as={StyledReveal}\n        open={(windowWidth && windowWidth > BREAKPOINT.S) || isOpen}\n        ariaId={META_ARIA_ID}\n      >\n        <StyledDt>Date posted</StyledDt>\n        <StyledDd>\n          <time>{formatDate(datePublished)}</time>\n        </StyledDd>\n\n        {viewCount >\n          parseInt(process.env.GATSBY_YOUTUBE_VIEWS_MINIMUM_VISIBLE) && (\n          <>\n            <StyledDt>Statistics</StyledDt>\n            <StyledDd>\n              <HideOnPercy>{formatNumberInThousands(viewCount)}</HideOnPercy>{' '}\n              views\n            </StyledDd>\n            <StyledDd>\n              <Link as=\"a\" href={`https://youtu.be/${youtubeId}`}>\n                <HideOnPercy>\n                  {formatNumberInThousands(commentCount)}\n                </HideOnPercy>{' '}\n                comments\n              </Link>\n            </StyledDd>\n          </>\n        )}\n      </Reveal>\n    </StyledAside>\n  )\n}\n\nexport default VideoMeta\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Book } from 'types/book'\nimport { FONT } from 'styles/tokens'\nimport { trim } from 'styles/helpers'\nimport Link from 'components/links/Link'\nimport StarRating from 'components/StarRating'\nimport ArrowIcon from 'components/icons/ArrowIcon'\nimport BookAffiliates from 'components/BookAffiliates'\n\nconst StyledAside = styled.aside`\n  ${trim}\n`\n\nconst StyledLink = styled(Link)`\n  font-size: ${FONT.SIZE.S};\n  font-weight: ${FONT.WEIGHT.BOLD};\n`\n\nconst StyledStarRating = styled(StarRating)`\n  font-size: ${FONT.SIZE.S};\n`\n\ntype Props = Pick<Book, 'rating7' | 'slug' | 'links'>\n\nconst VideoOwnedBook: React.FC<Props> = ({ rating7, slug, links }) => (\n  <StyledAside>\n    <StyledStarRating of7={rating7} />\n    <StyledLink to={slug}>\n      Book page\n      <ArrowIcon />\n    </StyledLink>\n\n    <BookAffiliates links={links} />\n  </StyledAside>\n)\n\nexport default VideoOwnedBook\n","import React, { useRef, useState } from 'react'\nimport { graphql } from 'gatsby'\nimport styled from 'styled-components'\n\nimport { PageProps } from 'types/page'\nimport PATHS from 'routes/paths'\nimport Layout from 'Layout'\nimport { Video } from 'types/video'\nimport { BookCardType } from 'types/book'\nimport { BookSnapshot } from 'types/book'\nimport { stripHtml } from 'utils/formatting/text'\nimport { formatImagePath } from 'utils/urls/image'\nimport H from 'components/H'\nimport Grid from 'components/Grid'\nimport GridItem from 'components/Grid/GridItem'\nimport RelatedBooks from 'components/RelatedBooks'\nimport MarkdownWrapper from 'components/MarkdownWrapper'\nimport { screen, screenMin, screenMax } from 'styles/responsive'\nimport { FONT } from 'styles/tokens'\nimport { GAP, toVW } from 'styles/layout'\n\nimport VideoPlayer from './VideoPlayer'\nimport VideoTimestampList from './VideoTimestampList'\nimport VideoMeta from './VideoMeta'\nimport VideoOwnedBook from './VideoOwnedBook'\n\n// import YouTubeDescription from 'components/YouTubeDescription'\n\nconst StyledTimestampGridItem = styled(GridItem)`\n  margin-top: 0.5em;\n\n  ${screenMin.l`\n    margin-bottom: -0.5em;\n  `}\n`\n\nconst StyledMeta = styled.aside`\n  ${screenMin.m`\n    margin-top: 1em;\n  `}\n\n  ${screenMin.l`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: ${toVW(GAP.L)};\n  `}\n\n  ${screen.xl`\n    grid-gap: ${toVW(GAP.XL)};\n  `}\n`\n\nconst StyledTitleWrapper = styled.div`\n  ${screenMin.l`\n    align-self: end;\n  `}\n`\n\nconst StyledTitle = styled(H)`\n  margin: 0.5em 0 -0.2em;\n`\n\nconst StyledBlockquote = styled.blockquote`\n  position: relative;\n  margin: 1.5em 0 1.5em 1.5em;\n\n  ${screenMax.m`\n    display: none;\n  `}\n\n  &:before {\n    content: '';\n    position: absolute;\n    left: -0.5em;\n    top: 0.25em;\n    line-height: 0;\n    font-size: 4em;\n    font-family: ${FONT.FAMILY.DECORATIVE};\n  }\n`\n\ninterface Props extends PageProps {\n  data: {\n    video: Video\n  }\n}\n\nconst VideoPage: React.FC<Props> = ({ data: { video }, location }) => {\n  const [isPlaying, setIsPlaying] = useState(false)\n  const [playedSeconds, setPlayedSeconds] = useState(0)\n  const videoComponent = useRef()\n\n  const ownedBook = video.book as BookSnapshot\n  const relatedBooks = video.relatedBooks as BookCardType[]\n\n  const featuredRelatedBookSlugs = (video.timestamps || [])\n    .filter((b) => b.book)\n    .map((b) => b.book.slug)\n\n  const flipLayout = ownedBook || !video.timestamps\n\n  return (\n    <Layout\n      location={location}\n      navTitle=\"Back to all videos\"\n      navTitleLink={PATHS.VIDEOS}\n      title={video.title}\n      description={stripHtml(video.html)}\n      shareImage={formatImagePath(video.image.fields.staticPath, {\n        w: 1200,\n        h: 630,\n        fit: 'cover',\n      })}\n    >\n      {/* <YouTubeDescription video={video} /> */}\n\n      <Grid full>\n        <GridItem columnsFromL=\"1/8\" columnsFromXL=\"1/9\">\n          <VideoPlayer\n            videoComponent={videoComponent}\n            youtubeId={video.youtubeId}\n            isPlaying={isPlaying}\n            setIsPlaying={setIsPlaying}\n            setPlayedSeconds={setPlayedSeconds}\n            backgroundColor={video.image.childImageColors.muted}\n          />\n        </GridItem>\n\n        <GridItem\n          as={StyledTitleWrapper}\n          columnsFromM=\"5 / 13\"\n          columnsFromL=\"8 / 14\"\n          columnsFromXL=\"9 / 15\"\n          rows={flipLayout ? '2/3' : '3/4'}\n          rowsFromL={flipLayout ? '1/2' : '2/3'}\n        >\n          {video.quote && <StyledBlockquote>{video.quote}</StyledBlockquote>}\n          <StyledTitle as=\"h1\" size=\"L\">\n            {video.title}\n          </StyledTitle>\n        </GridItem>\n\n        {video.html && (\n          <GridItem\n            columnsFromM=\"5 / 13\"\n            columnsFromL=\"8/14\"\n            columnsFromXL=\"9/15\"\n          >\n            <MarkdownWrapper dangerouslySetInnerHTML={{ __html: video.html }} />\n          </GridItem>\n        )}\n\n        <GridItem\n          as={StyledMeta}\n          spanRows={3}\n          spanRowsFromL={video.html && video.timestamps ? 2 : 1}\n          spanFromM={4}\n          columnsFromL=\"2/8\"\n          columnsFromXL=\"3/9\"\n        >\n          <VideoMeta\n            datePublished={video.datePublished}\n            viewCount={video.viewCount}\n            commentCount={video.commentCount}\n            youtubeId={video.youtubeId}\n          />\n\n          {ownedBook && (\n            <VideoOwnedBook\n              rating7={ownedBook.rating7}\n              slug={ownedBook.slug}\n              links={ownedBook.links}\n            />\n          )}\n        </GridItem>\n\n        {video.timestamps && (\n          <GridItem\n            as={StyledTimestampGridItem}\n            columnsFromM=\"5 / 13\"\n            columnsFromL=\"8/15\"\n            columnsFromXL=\"9/17\"\n            rows={flipLayout ? '3/4' : '2/3'}\n            rowsFromL={flipLayout ? '2/3' : '1/2'}\n            style={{\n              marginTop: flipLayout ? '-0.25em' : '-0.75em',\n              marginBottom: '-0.5em',\n              alignSelf: flipLayout ? 'start' : 'end',\n            }}\n          >\n            <VideoTimestampList\n              timestamps={video.timestamps}\n              playedSeconds={playedSeconds}\n              setPlayedSeconds={setPlayedSeconds}\n              setIsPlaying={setIsPlaying}\n              videoComponent={videoComponent}\n            />\n          </GridItem>\n        )}\n      </Grid>\n\n      <RelatedBooks\n        books={relatedBooks}\n        featuredSlugs={featuredRelatedBookSlugs}\n        ownedSlug={ownedBook && ownedBook.slug}\n      />\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query VideoPage($id: String!) {\n    video: video(id: { eq: $id }) {\n      ...VideoFields\n    }\n  }\n`\n\nexport default VideoPage\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactFastCompare = _interopRequireDefault(require(\"react-fast-compare\"));\n\nvar _props = require(\"./props\");\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar SEEK_ON_PLAY_EXPIRY = 5000;\n\nvar Player = /*#__PURE__*/function (_Component) {\n  _inherits(Player, _Component);\n\n  var _super = _createSuper(Player);\n\n  function Player() {\n    var _this;\n\n    _classCallCheck(this, Player);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(_args));\n\n    _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"isReady\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"isPlaying\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"isLoading\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"loadOnReady\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"startOnPlay\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"seekOnPlay\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDurationCalled\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlayerMount\", function (player) {\n      if (_this.player) {\n        _this.progress(); // Ensure onProgress is still called in strict mode\n\n\n        return; // Return here to prevent loading twice in strict mode\n      }\n\n      _this.player = player;\n\n      _this.player.load(_this.props.url);\n\n      _this.progress();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInternalPlayer\", function (key) {\n      if (!_this.player) return null;\n      return _this.player[key];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"progress\", function () {\n      if (_this.props.url && _this.player && _this.isReady) {\n        var playedSeconds = _this.getCurrentTime() || 0;\n\n        var loadedSeconds = _this.getSecondsLoaded();\n\n        var duration = _this.getDuration();\n\n        if (duration) {\n          var progress = {\n            playedSeconds: playedSeconds,\n            played: playedSeconds / duration\n          };\n\n          if (loadedSeconds !== null) {\n            progress.loadedSeconds = loadedSeconds;\n            progress.loaded = loadedSeconds / duration;\n          } // Only call onProgress if values have changed\n\n\n          if (progress.playedSeconds !== _this.prevPlayed || progress.loadedSeconds !== _this.prevLoaded) {\n            _this.props.onProgress(progress);\n          }\n\n          _this.prevPlayed = progress.playedSeconds;\n          _this.prevLoaded = progress.loadedSeconds;\n        }\n      }\n\n      _this.progressTimeout = setTimeout(_this.progress, _this.props.progressFrequency || _this.props.progressInterval);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleReady\", function () {\n      if (!_this.mounted) return;\n      _this.isReady = true;\n      _this.isLoading = false;\n      var _this$props = _this.props,\n          onReady = _this$props.onReady,\n          playing = _this$props.playing,\n          volume = _this$props.volume,\n          muted = _this$props.muted;\n      onReady();\n\n      if (!muted && volume !== null) {\n        _this.player.setVolume(volume);\n      }\n\n      if (_this.loadOnReady) {\n        _this.player.load(_this.loadOnReady, true);\n\n        _this.loadOnReady = null;\n      } else if (playing) {\n        _this.player.play();\n      }\n\n      _this.handleDurationCheck();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlay\", function () {\n      _this.isPlaying = true;\n      _this.isLoading = false;\n      var _this$props2 = _this.props,\n          onStart = _this$props2.onStart,\n          onPlay = _this$props2.onPlay,\n          playbackRate = _this$props2.playbackRate;\n\n      if (_this.startOnPlay) {\n        if (_this.player.setPlaybackRate && playbackRate !== 1) {\n          _this.player.setPlaybackRate(playbackRate);\n        }\n\n        onStart();\n        _this.startOnPlay = false;\n      }\n\n      onPlay();\n\n      if (_this.seekOnPlay) {\n        _this.seekTo(_this.seekOnPlay);\n\n        _this.seekOnPlay = null;\n      }\n\n      _this.handleDurationCheck();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePause\", function (e) {\n      _this.isPlaying = false;\n\n      if (!_this.isLoading) {\n        _this.props.onPause(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEnded\", function () {\n      var _this$props3 = _this.props,\n          activePlayer = _this$props3.activePlayer,\n          loop = _this$props3.loop,\n          onEnded = _this$props3.onEnded;\n\n      if (activePlayer.loopOnEnded && loop) {\n        _this.seekTo(0);\n      }\n\n      if (!loop) {\n        _this.isPlaying = false;\n        onEnded();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleError\", function () {\n      var _this$props4;\n\n      _this.isLoading = false;\n\n      (_this$props4 = _this.props).onError.apply(_this$props4, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDurationCheck\", function () {\n      clearTimeout(_this.durationCheckTimeout);\n\n      var duration = _this.getDuration();\n\n      if (duration) {\n        if (!_this.onDurationCalled) {\n          _this.props.onDuration(duration);\n\n          _this.onDurationCalled = true;\n        }\n      } else {\n        _this.durationCheckTimeout = setTimeout(_this.handleDurationCheck, 100);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleLoaded\", function () {\n      // Sometimes we know loading has stopped but onReady/onPlay are never called\n      // so this provides a way for players to avoid getting stuck\n      _this.isLoading = false;\n    });\n\n    return _this;\n  }\n\n  _createClass(Player, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.progressTimeout);\n      clearTimeout(this.durationCheckTimeout);\n\n      if (this.isReady && this.props.stopOnUnmount) {\n        this.player.stop();\n\n        if (this.player.disablePIP) {\n          this.player.disablePIP();\n        }\n      }\n\n      this.mounted = false;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      // If there isnt a player available, dont do anything\n      if (!this.player) {\n        return;\n      } // Invoke player methods based on changed props\n\n\n      var _this$props5 = this.props,\n          url = _this$props5.url,\n          playing = _this$props5.playing,\n          volume = _this$props5.volume,\n          muted = _this$props5.muted,\n          playbackRate = _this$props5.playbackRate,\n          pip = _this$props5.pip,\n          loop = _this$props5.loop,\n          activePlayer = _this$props5.activePlayer,\n          disableDeferredLoading = _this$props5.disableDeferredLoading;\n\n      if (!(0, _reactFastCompare[\"default\"])(prevProps.url, url)) {\n        if (this.isLoading && !activePlayer.forceLoad && !disableDeferredLoading && !(0, _utils.isMediaStream)(url)) {\n          console.warn(\"ReactPlayer: the attempt to load \".concat(url, \" is being deferred until the player has loaded\"));\n          this.loadOnReady = url;\n          return;\n        }\n\n        this.isLoading = true;\n        this.startOnPlay = true;\n        this.onDurationCalled = false;\n        this.player.load(url, this.isReady);\n      }\n\n      if (!prevProps.playing && playing && !this.isPlaying) {\n        this.player.play();\n      }\n\n      if (prevProps.playing && !playing && this.isPlaying) {\n        this.player.pause();\n      }\n\n      if (!prevProps.pip && pip && this.player.enablePIP) {\n        this.player.enablePIP();\n      }\n\n      if (prevProps.pip && !pip && this.player.disablePIP) {\n        this.player.disablePIP();\n      }\n\n      if (prevProps.volume !== volume && volume !== null) {\n        this.player.setVolume(volume);\n      }\n\n      if (prevProps.muted !== muted) {\n        if (muted) {\n          this.player.mute();\n        } else {\n          this.player.unmute();\n\n          if (volume !== null) {\n            // Set volume next tick to fix a bug with DailyMotion\n            setTimeout(function () {\n              return _this2.player.setVolume(volume);\n            });\n          }\n        }\n      }\n\n      if (prevProps.playbackRate !== playbackRate && this.player.setPlaybackRate) {\n        this.player.setPlaybackRate(playbackRate);\n      }\n\n      if (prevProps.loop !== loop && this.player.setLoop) {\n        this.player.setLoop(loop);\n      }\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      if (!this.isReady) return null;\n      return this.player.getDuration();\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      if (!this.isReady) return null;\n      return this.player.getCurrentTime();\n    }\n  }, {\n    key: \"getSecondsLoaded\",\n    value: function getSecondsLoaded() {\n      if (!this.isReady) return null;\n      return this.player.getSecondsLoaded();\n    }\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(amount, type) {\n      var _this3 = this;\n\n      // When seeking before player is ready, store value and seek later\n      if (!this.isReady) {\n        if (amount !== 0) {\n          this.seekOnPlay = amount;\n          setTimeout(function () {\n            _this3.seekOnPlay = null;\n          }, SEEK_ON_PLAY_EXPIRY);\n        }\n\n        return;\n      }\n\n      var isFraction = !type ? amount > 0 && amount < 1 : type === 'fraction';\n\n      if (isFraction) {\n        // Convert fraction to seconds based on duration\n        var duration = this.player.getDuration();\n\n        if (!duration) {\n          console.warn('ReactPlayer: could not seek using fraction duration not yet available');\n          return;\n        }\n\n        this.player.seekTo(duration * amount);\n        return;\n      }\n\n      this.player.seekTo(amount);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var Player = this.props.activePlayer;\n\n      if (!Player) {\n        return null;\n      }\n\n      return /*#__PURE__*/_react[\"default\"].createElement(Player, _extends({}, this.props, {\n        onMount: this.handlePlayerMount,\n        onReady: this.handleReady,\n        onPlay: this.handlePlay,\n        onPause: this.handlePause,\n        onEnded: this.handleEnded,\n        onLoaded: this.handleLoaded,\n        onError: this.handleError\n      }));\n    }\n  }]);\n\n  return Player;\n}(_react.Component);\n\nexports[\"default\"] = Player;\n\n_defineProperty(Player, \"displayName\", 'Player');\n\n_defineProperty(Player, \"propTypes\", _props.propTypes);\n\n_defineProperty(Player, \"defaultProps\", _props.defaultProps);","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ICON_SIZE = '64px';\nvar cache = {};\n\nvar Preview = /*#__PURE__*/function (_Component) {\n  _inherits(Preview, _Component);\n\n  var _super = _createSuper(Preview);\n\n  function Preview() {\n    var _this;\n\n    _classCallCheck(this, Preview);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      image: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyPress\", function (e) {\n      if (e.key === 'Enter' || e.key === ' ') {\n        _this.props.onClick();\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Preview, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true;\n      this.fetchImage(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          url = _this$props.url,\n          light = _this$props.light;\n\n      if (prevProps.url !== url || prevProps.light !== light) {\n        this.fetchImage(this.props);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false;\n    }\n  }, {\n    key: \"fetchImage\",\n    value: function fetchImage(_ref) {\n      var _this2 = this;\n\n      var url = _ref.url,\n          light = _ref.light,\n          oEmbedUrl = _ref.oEmbedUrl;\n\n      if ( /*#__PURE__*/_react[\"default\"].isValidElement(light)) {\n        return;\n      }\n\n      if (typeof light === 'string') {\n        this.setState({\n          image: light\n        });\n        return;\n      }\n\n      if (cache[url]) {\n        this.setState({\n          image: cache[url]\n        });\n        return;\n      }\n\n      this.setState({\n        image: null\n      });\n      return window.fetch(oEmbedUrl.replace('{url}', url)).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        if (data.thumbnail_url && _this2.mounted) {\n          var image = data.thumbnail_url.replace('height=100', 'height=480');\n\n          _this2.setState({\n            image: image\n          });\n\n          cache[url] = image;\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          light = _this$props2.light,\n          onClick = _this$props2.onClick,\n          playIcon = _this$props2.playIcon,\n          previewTabIndex = _this$props2.previewTabIndex;\n      var image = this.state.image;\n\n      var isElement = /*#__PURE__*/_react[\"default\"].isValidElement(light);\n\n      var flexCenter = {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      };\n      var styles = {\n        preview: _objectSpread({\n          width: '100%',\n          height: '100%',\n          backgroundImage: image && !isElement ? \"url(\".concat(image, \")\") : undefined,\n          backgroundSize: 'cover',\n          backgroundPosition: 'center',\n          cursor: 'pointer'\n        }, flexCenter),\n        shadow: _objectSpread({\n          background: 'radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)',\n          borderRadius: ICON_SIZE,\n          width: ICON_SIZE,\n          height: ICON_SIZE,\n          position: isElement ? 'absolute' : undefined\n        }, flexCenter),\n        playIcon: {\n          borderStyle: 'solid',\n          borderWidth: '16px 0 16px 26px',\n          borderColor: 'transparent transparent transparent white',\n          marginLeft: '7px'\n        }\n      };\n\n      var defaultPlayIcon = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: styles.shadow,\n        className: \"react-player__shadow\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: styles.playIcon,\n        className: \"react-player__play-icon\"\n      }));\n\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: styles.preview,\n        className: \"react-player__preview\",\n        onClick: onClick,\n        tabIndex: previewTabIndex,\n        onKeyPress: this.handleKeyPress\n      }, isElement ? light : null, playIcon || defaultPlayIcon);\n    }\n  }]);\n\n  return Preview;\n}(_react.Component);\n\nexports[\"default\"] = Preview;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createReactPlayer = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _deepmerge = _interopRequireDefault(require(\"deepmerge\"));\n\nvar _memoizeOne = _interopRequireDefault(require(\"memoize-one\"));\n\nvar _reactFastCompare = _interopRequireDefault(require(\"react-fast-compare\"));\n\nvar _props = require(\"./props\");\n\nvar _utils = require(\"./utils\");\n\nvar _Player3 = _interopRequireDefault(require(\"./Player\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar Preview = /*#__PURE__*/(0, _react.lazy)(function () {\n  return Promise.resolve().then(function () {\n    return _interopRequireWildcard(require('./Preview'));\n  });\n});\nvar IS_BROWSER = typeof window !== 'undefined' && window.document;\nvar IS_GLOBAL = typeof global !== 'undefined' && global.window && global.window.document;\nvar SUPPORTED_PROPS = Object.keys(_props.propTypes); // Return null when rendering on the server\n// as Suspense is not supported yet\n\nvar UniversalSuspense = IS_BROWSER || IS_GLOBAL ? _react.Suspense : function () {\n  return null;\n};\nvar customPlayers = [];\n\nvar createReactPlayer = function createReactPlayer(players, fallback) {\n  var _class, _temp;\n\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(ReactPlayer, _Component);\n\n    var _super = _createSuper(ReactPlayer);\n\n    function ReactPlayer() {\n      var _this;\n\n      _classCallCheck(this, ReactPlayer);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _defineProperty(_assertThisInitialized(_this), \"state\", {\n        showPreview: !!_this.props.light\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"references\", {\n        wrapper: function wrapper(_wrapper) {\n          _this.wrapper = _wrapper;\n        },\n        player: function player(_player) {\n          _this.player = _player;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleClickPreview\", function (e) {\n        _this.setState({\n          showPreview: false\n        });\n\n        _this.props.onClickPreview(e);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"showPreview\", function () {\n        _this.setState({\n          showPreview: true\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getDuration\", function () {\n        if (!_this.player) return null;\n        return _this.player.getDuration();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getCurrentTime\", function () {\n        if (!_this.player) return null;\n        return _this.player.getCurrentTime();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getSecondsLoaded\", function () {\n        if (!_this.player) return null;\n        return _this.player.getSecondsLoaded();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getInternalPlayer\", function () {\n        var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'player';\n        if (!_this.player) return null;\n        return _this.player.getInternalPlayer(key);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"seekTo\", function (fraction, type) {\n        if (!_this.player) return null;\n\n        _this.player.seekTo(fraction, type);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleReady\", function () {\n        _this.props.onReady(_assertThisInitialized(_this));\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"getActivePlayer\", (0, _memoizeOne[\"default\"])(function (url) {\n        for (var _i = 0, _arr = [].concat(customPlayers, _toConsumableArray(players)); _i < _arr.length; _i++) {\n          var player = _arr[_i];\n\n          if (player.canPlay(url)) {\n            return player;\n          }\n        }\n\n        if (fallback) {\n          return fallback;\n        }\n\n        return null;\n      }));\n\n      _defineProperty(_assertThisInitialized(_this), \"getConfig\", (0, _memoizeOne[\"default\"])(function (url, key) {\n        var config = _this.props.config;\n        return _deepmerge[\"default\"].all([_props.defaultProps.config, _props.defaultProps.config[key] || {}, config, config[key] || {}]);\n      }));\n\n      _defineProperty(_assertThisInitialized(_this), \"getAttributes\", (0, _memoizeOne[\"default\"])(function (url) {\n        return (0, _utils.omit)(_this.props, SUPPORTED_PROPS);\n      }));\n\n      _defineProperty(_assertThisInitialized(_this), \"renderActivePlayer\", function (url) {\n        if (!url) return null;\n\n        var player = _this.getActivePlayer(url);\n\n        if (!player) return null;\n\n        var config = _this.getConfig(url, player.key);\n\n        return /*#__PURE__*/_react[\"default\"].createElement(_Player3[\"default\"], _extends({}, _this.props, {\n          key: player.key,\n          ref: _this.references.player,\n          config: config,\n          activePlayer: player.lazyPlayer || player,\n          onReady: _this.handleReady\n        }));\n      });\n\n      return _this;\n    }\n\n    _createClass(ReactPlayer, [{\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !(0, _reactFastCompare[\"default\"])(this.props, nextProps) || !(0, _reactFastCompare[\"default\"])(this.state, nextState);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        var light = this.props.light;\n\n        if (!prevProps.light && light) {\n          this.setState({\n            showPreview: true\n          });\n        }\n\n        if (prevProps.light && !light) {\n          this.setState({\n            showPreview: false\n          });\n        }\n      }\n    }, {\n      key: \"renderPreview\",\n      value: function renderPreview(url) {\n        if (!url) return null;\n        var _this$props = this.props,\n            light = _this$props.light,\n            playIcon = _this$props.playIcon,\n            previewTabIndex = _this$props.previewTabIndex,\n            oEmbedUrl = _this$props.oEmbedUrl;\n        return /*#__PURE__*/_react[\"default\"].createElement(Preview, {\n          url: url,\n          light: light,\n          playIcon: playIcon,\n          previewTabIndex: previewTabIndex,\n          oEmbedUrl: oEmbedUrl,\n          onClick: this.handleClickPreview\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props2 = this.props,\n            url = _this$props2.url,\n            style = _this$props2.style,\n            width = _this$props2.width,\n            height = _this$props2.height,\n            fallback = _this$props2.fallback,\n            Wrapper = _this$props2.wrapper;\n        var showPreview = this.state.showPreview;\n        var attributes = this.getAttributes(url);\n        var wrapperRef = typeof Wrapper === 'string' ? this.references.wrapper : undefined;\n        return /*#__PURE__*/_react[\"default\"].createElement(Wrapper, _extends({\n          ref: wrapperRef,\n          style: _objectSpread(_objectSpread({}, style), {}, {\n            width: width,\n            height: height\n          })\n        }, attributes), /*#__PURE__*/_react[\"default\"].createElement(UniversalSuspense, {\n          fallback: fallback\n        }, showPreview ? this.renderPreview(url) : this.renderActivePlayer(url)));\n      }\n    }]);\n\n    return ReactPlayer;\n  }(_react.Component), _defineProperty(_class, \"displayName\", 'ReactPlayer'), _defineProperty(_class, \"propTypes\", _props.propTypes), _defineProperty(_class, \"defaultProps\", _props.defaultProps), _defineProperty(_class, \"addCustomPlayer\", function (player) {\n    customPlayers.push(player);\n  }), _defineProperty(_class, \"removeCustomPlayers\", function () {\n    customPlayers.length = 0;\n  }), _defineProperty(_class, \"canPlay\", function (url) {\n    for (var _i2 = 0, _arr2 = [].concat(customPlayers, _toConsumableArray(players)); _i2 < _arr2.length; _i2++) {\n      var _Player = _arr2[_i2];\n\n      if (_Player.canPlay(url)) {\n        return true;\n      }\n    }\n\n    return false;\n  }), _defineProperty(_class, \"canEnablePIP\", function (url) {\n    for (var _i3 = 0, _arr3 = [].concat(customPlayers, _toConsumableArray(players)); _i3 < _arr3.length; _i3++) {\n      var _Player2 = _arr3[_i3];\n\n      if (_Player2.canEnablePIP && _Player2.canEnablePIP(url)) {\n        return true;\n      }\n    }\n\n    return false;\n  }), _temp;\n};\n\nexports.createReactPlayer = createReactPlayer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultProps = exports.propTypes = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar string = _propTypes[\"default\"].string,\n    bool = _propTypes[\"default\"].bool,\n    number = _propTypes[\"default\"].number,\n    array = _propTypes[\"default\"].array,\n    oneOfType = _propTypes[\"default\"].oneOfType,\n    shape = _propTypes[\"default\"].shape,\n    object = _propTypes[\"default\"].object,\n    func = _propTypes[\"default\"].func,\n    node = _propTypes[\"default\"].node;\nvar propTypes = {\n  url: oneOfType([string, array, object]),\n  playing: bool,\n  loop: bool,\n  controls: bool,\n  volume: number,\n  muted: bool,\n  playbackRate: number,\n  width: oneOfType([string, number]),\n  height: oneOfType([string, number]),\n  style: object,\n  progressInterval: number,\n  playsinline: bool,\n  pip: bool,\n  stopOnUnmount: bool,\n  light: oneOfType([bool, string, object]),\n  playIcon: node,\n  previewTabIndex: number,\n  fallback: node,\n  oEmbedUrl: string,\n  wrapper: oneOfType([string, func, shape({\n    render: func.isRequired\n  })]),\n  config: shape({\n    soundcloud: shape({\n      options: object\n    }),\n    youtube: shape({\n      playerVars: object,\n      embedOptions: object,\n      onUnstarted: func\n    }),\n    facebook: shape({\n      appId: string,\n      version: string,\n      playerId: string,\n      attributes: object\n    }),\n    dailymotion: shape({\n      params: object\n    }),\n    vimeo: shape({\n      playerOptions: object,\n      title: string\n    }),\n    file: shape({\n      attributes: object,\n      tracks: array,\n      forceVideo: bool,\n      forceAudio: bool,\n      forceHLS: bool,\n      forceDASH: bool,\n      forceFLV: bool,\n      hlsOptions: object,\n      hlsVersion: string,\n      dashVersion: string,\n      flvVersion: string\n    }),\n    wistia: shape({\n      options: object,\n      playerId: string,\n      customControls: array\n    }),\n    mixcloud: shape({\n      options: object\n    }),\n    twitch: shape({\n      options: object,\n      playerId: string\n    }),\n    vidyard: shape({\n      options: object\n    })\n  }),\n  onReady: func,\n  onStart: func,\n  onPlay: func,\n  onPause: func,\n  onBuffer: func,\n  onBufferEnd: func,\n  onEnded: func,\n  onError: func,\n  onDuration: func,\n  onSeek: func,\n  onPlaybackRateChange: func,\n  onProgress: func,\n  onClickPreview: func,\n  onEnablePIP: func,\n  onDisablePIP: func\n};\nexports.propTypes = propTypes;\n\nvar noop = function noop() {};\n\nvar defaultProps = {\n  playing: false,\n  loop: false,\n  controls: false,\n  volume: null,\n  muted: false,\n  playbackRate: 1,\n  width: '640px',\n  height: '360px',\n  style: {},\n  progressInterval: 1000,\n  playsinline: false,\n  pip: false,\n  stopOnUnmount: true,\n  light: false,\n  fallback: null,\n  wrapper: 'div',\n  previewTabIndex: 0,\n  oEmbedUrl: 'https://noembed.com/embed?url={url}',\n  config: {\n    soundcloud: {\n      options: {\n        visual: true,\n        // Undocumented, but makes player fill container and look better\n        buying: false,\n        liking: false,\n        download: false,\n        sharing: false,\n        show_comments: false,\n        show_playcount: false\n      }\n    },\n    youtube: {\n      playerVars: {\n        playsinline: 1,\n        showinfo: 0,\n        rel: 0,\n        iv_load_policy: 3,\n        modestbranding: 1\n      },\n      embedOptions: {},\n      onUnstarted: noop\n    },\n    facebook: {\n      appId: '1309697205772819',\n      version: 'v3.3',\n      playerId: null,\n      attributes: {}\n    },\n    dailymotion: {\n      params: {\n        api: 1,\n        'endscreen-enable': false\n      }\n    },\n    vimeo: {\n      playerOptions: {\n        autopause: false,\n        byline: false,\n        portrait: false,\n        title: false\n      },\n      title: null\n    },\n    file: {\n      attributes: {},\n      tracks: [],\n      forceVideo: false,\n      forceAudio: false,\n      forceHLS: false,\n      forceDASH: false,\n      forceFLV: false,\n      hlsOptions: {},\n      hlsVersion: '1.1.4',\n      dashVersion: '3.1.3',\n      flvVersion: '1.5.0'\n    },\n    wistia: {\n      options: {},\n      playerId: null,\n      customControls: null\n    },\n    mixcloud: {\n      options: {\n        hide_cover: 1\n      }\n    },\n    twitch: {\n      options: {},\n      playerId: null\n    },\n    vidyard: {\n      options: {}\n    }\n  },\n  onReady: noop,\n  onStart: noop,\n  onPlay: noop,\n  onPause: noop,\n  onBuffer: noop,\n  onBufferEnd: noop,\n  onEnded: noop,\n  onError: noop,\n  onDuration: noop,\n  onSeek: noop,\n  onPlaybackRateChange: noop,\n  onProgress: noop,\n  onClickPreview: noop,\n  onEnablePIP: noop,\n  onDisablePIP: noop\n};\nexports.defaultProps = defaultProps;","\n      var createReactPlayer = require('./lib/ReactPlayer').createReactPlayer\n      var Player = require('./lib/players/YouTube').default\n      module.exports = createReactPlayer([{\n        key: 'youtube',\n        canPlay: Player.canPlay,\n        lazyPlayer: Player\n      }])\n    "],"names":["AFFILIATES","GOODREADS","AMAZON","BOOKSHOP_ORG","AFFILIATE_ACTIONS","StyledLi","styled","FONT","screenMin","StyledArrowIcon","ArrowIcon","_ref","links","React","Object","entries","map","_ref2","affiliateAbbr","label","key","href","long","MarkdownWrapper","trim","COLOR","StyledWrapper","StyledTitleGridItem","GridItem","StyledGrid","Grid","screen","books","featuredSlugs","ownedSlug","length","full","H","size","as","book","featured","slug","includes","id","span","spanFromM","spanFromL","BookCard","hideDetails","StyledSummaryTrigger","screenMax","StyledIcon","open","children","ariaId","onClick","className","Link","StyledContent","isOpen","isTransitioning","_ref3","_ref4","setIsOpen","useState","setIsTransitioning","contentHeight","setContentHeight","contentEl","createRef","useEffect","ref","current","clientHeight","setTimeout","style","maxHeight","StyledBookCard","$big","props","BORDER_RADIUS","StyledImgWrapper","StyledImg","Image","StyledAccessibilityTitle","StyledMeta","StyledVideoLink","big","to","background","image","childImageColors","darkVibrant","lightMuted","color","vibrant","muted","bookHeight","toFixed","title","author","ImageColor","rating7","video","e","preventDefault","navigate","StarRating","of7","stripHtml","text","replace","sortAlphabetically","strings","sort","a","b","window","width","height","getSize","innerWidth","innerHeight","windowSize","setWindowSize","handleResize","addEventListener","removeEventListener","location","search","qs","ignoreQueryPrefix","YouTubePlayerConfig","youtube","playerVars","rel","controls","StyledAspectRatioWrapper","AspectRatioWrapper","youtubeId","isPlaying","setIsPlaying","setPlayedSeconds","videoComponent","backgroundColor","startAtSeconds","setStartAtSeconds","params","getQueryParameters","at","startAt","unformatTimestamp","YouTubePlayer","url","onPlay","onPause","onProgress","playedSeconds","progressInterval","playing","config","StyledVideoTimestamp","active","StyledTime","StyledDetails","StyledText","StyledBookLink","StyledStarRating","StyledReveal","Reveal","t","link","jumpToTimestamp","target","tagName","formatTimestamp","BookAffiliates","StyledVideoTimestampList","toVW","getWidthOfColumns","timestamps","startPlaying","seekTo","segment","forEach","i","VideoTimestamp","META_ARIA_ID","StyledAside","StyledRevealTrigger","RevealTrigger","StyledDt","StyledDd","datePublished","viewCount","commentCount","windowWidth","useWindowSize","BREAKPOINT","formatDate","parseInt","process","GATSBY_YOUTUBE_VIEWS_MINIMUM_VISIBLE","HideOnPercy","formatNumberInThousands","StyledLink","StyledTimestampGridItem","displayName","componentId","GAP","StyledTitleWrapper","StyledTitle","StyledBlockquote","data","useRef","ownedBook","relatedBooks","featuredRelatedBookSlugs","filter","flipLayout","Layout","navTitle","navTitleLink","PATHS","description","html","shareImage","formatImagePath","fields","staticPath","w","h","fit","columnsFromL","columnsFromXL","VideoPlayer","columnsFromM","rows","rowsFromL","quote","dangerouslySetInnerHTML","__html","spanRows","spanRowsFromL","VideoMeta","VideoOwnedBook","marginTop","marginBottom","alignSelf","VideoTimestampList","RelatedBooks","safeIsNaN","Number","isNaN","value","areInputsEqual","newInputs","lastInputs","first","second","resultFn","isEqual","lastThis","lastResult","lastArgs","calledOnce","newArgs","_i","arguments","this","apply","_typeof","obj","Symbol","iterator","constructor","prototype","defineProperty","exports","_react","__esModule","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","hasOwnProperty","call","desc","set","_interopRequireWildcard","_reactFastCompare","_props","_utils","WeakMap","_extends","assign","source","_defineProperties","descriptor","enumerable","configurable","writable","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","self","_assertThisInitialized","_possibleConstructorReturn","ReferenceError","getPrototypeOf","_defineProperty","Player","_Component","subClass","superClass","TypeError","create","_inherits","Constructor","protoProps","staticProps","_super","_this","instance","_classCallCheck","_len","_args","Array","_key","concat","player","load","progress","isReady","getCurrentTime","loadedSeconds","getSecondsLoaded","duration","getDuration","played","loaded","prevPlayed","prevLoaded","progressTimeout","progressFrequency","mounted","isLoading","_this$props","onReady","volume","setVolume","loadOnReady","play","handleDurationCheck","_this$props2","onStart","playbackRate","startOnPlay","setPlaybackRate","seekOnPlay","_this$props3","activePlayer","loop","onEnded","loopOnEnded","_this$props4","onError","clearTimeout","durationCheckTimeout","onDurationCalled","onDuration","stopOnUnmount","stop","disablePIP","prevProps","_this2","_this$props5","pip","disableDeferredLoading","forceLoad","isMediaStream","console","warn","pause","enablePIP","mute","unmute","setLoop","amount","type","_this3","createElement","onMount","handlePlayerMount","handleReady","handlePlay","handlePause","handleEnded","onLoaded","handleLoaded","handleError","Component","propTypes","defaultProps","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","push","_objectSpread","getOwnPropertyDescriptors","defineProperties","ICON_SIZE","Preview","args","fetchImage","light","oEmbedUrl","isValidElement","setState","fetch","then","response","json","thumbnail_url","playIcon","previewTabIndex","state","isElement","flexCenter","display","alignItems","justifyContent","styles","preview","backgroundImage","undefined","backgroundSize","backgroundPosition","cursor","shadow","borderRadius","position","borderStyle","borderWidth","borderColor","marginLeft","defaultPlayIcon","tabIndex","onKeyPress","handleKeyPress","_deepmerge","_interopRequireDefault","_memoizeOne","_Player3","_toConsumableArray","arr","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","minLen","n","slice","name","test","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","lazy","Promise","resolve","IS_BROWSER","document","IS_GLOBAL","g","SUPPORTED_PROPS","UniversalSuspense","Suspense","customPlayers","players","fallback","_class","_temp","ReactPlayer","showPreview","wrapper","_wrapper","_player","onClickPreview","getInternalPlayer","fraction","_arr","canPlay","all","omit","getActivePlayer","getConfig","references","lazyPlayer","nextProps","nextState","handleClickPreview","Wrapper","attributes","getAttributes","wrapperRef","renderPreview","renderActivePlayer","_i2","_arr2","_i3","_arr3","_Player2","canEnablePIP","_propTypes","string","bool","number","array","oneOfType","shape","func","node","playsinline","render","isRequired","soundcloud","options","embedOptions","onUnstarted","facebook","appId","version","playerId","dailymotion","vimeo","playerOptions","file","tracks","forceVideo","forceAudio","forceHLS","forceDASH","forceFLV","hlsOptions","hlsVersion","dashVersion","flvVersion","wistia","customControls","mixcloud","twitch","vidyard","onBuffer","onBufferEnd","onSeek","onPlaybackRateChange","onEnablePIP","onDisablePIP","noop","visual","buying","liking","download","sharing","show_comments","show_playcount","showinfo","iv_load_policy","modestbranding","api","autopause","byline","portrait","hide_cover","createReactPlayer","module"],"sourceRoot":""}